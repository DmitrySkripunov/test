{"version":3,"sources":["components/CharacterCard/CharacterCard.tsx","pages/Home.tsx","hooks/useDebounce.ts","components/Layout/Layout.tsx","components/Layout/Layout.module.css","pages/Page.module.css"],"names":["CharacterCard","_ref","character","navigate","useNavigate","react_default","a","createElement","Card","style","cursor","onClick","concat","encodeURIComponent","url","CardActionArea","Box","p","textAlign","mb","name","films","length","gender","Home","_useStoreon","useStoreon","dispatch","results","request","_useSearchParams","useSearchParams","_useSearchParams2","Object","slicedToArray","searchParams","setSearchParams","notInitialRender","useRef","_useState","useState","get","_useState2","query","setQuery","debouncedQuery","value","delay","debounced","setDebounced","useEffect","timer","setTimeout","clearTimeout","useDebounce","current","set","delete","page","CharacterEvents","Search","isUrl","people","map","key","Layout","className","css","header","TextField","fullWidth","label","variant","onChange","event","target","inProgress","LinearProgress","color","position","top","left","right","count","m","StyledResultBlock","display","width","justifyContent","mt","previous","Button","disabled","next","styled","_templateObject","taggedTemplateLiteral","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Layout_module_css__WEBPACK_IMPORTED_MODULE_1__","_Layout_module_css__WEBPACK_IMPORTED_MODULE_1___default","children","root","module","exports"],"mappings":"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","file":"static/js/1.7915dae2.chunk.js","sourcesContent":["import React from \"react\";\nimport { Box, Card, CardActionArea } from \"@mui/material\";\nimport { Character } from \"../../types/Character\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function CharacterCard({ character }: { character: Character }) {\n  const navigate = useNavigate();\n  return (\n    <Card\n      style={{ cursor: \"pointer\" }}\n      onClick={() =>\n        navigate(`/character/${encodeURIComponent(character.url)}`)\n      }\n    >\n      <CardActionArea>\n        <Box p=\"20px\" textAlign=\"left\">\n          <Box mb=\"10px\">\n            <strong>{character.name}</strong>\n          </Box>\n          <Box mb=\"10px\">\n            Films count: <strong>{character.films.length}</strong>\n          </Box>\n          <Box>\n            Gender: <strong>{character.gender}</strong>\n          </Box>\n        </Box>\n      </CardActionArea>\n    </Card>\n  );\n}\n","import styled from \"@emotion/styled\";\nimport { Box, Button, LinearProgress, TextField } from \"@mui/material\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams, useSearchParams } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/react\";\nimport CharacterCard from \"../components/CharacterCard/CharacterCard\";\nimport Layout from \"../components/Layout/Layout\";\nimport { useDebounce } from \"../hooks/useDebounce\";\nimport { Events, State } from \"../stores/characters\";\nimport { CharacterEvents } from \"../stores/events\";\nimport css from \"./Page.module.css\";\n\nexport default function Home() {\n  const { dispatch, results, request } = useStoreon<State, Events>(\n    \"results\",\n    \"request\"\n  );\n  let [searchParams, setSearchParams] = useSearchParams();\n  const notInitialRender = useRef(false)\n\n  const navigate = useNavigate();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const debouncedQuery = useDebounce<string>(query, 250);\n\n  useEffect(() => {\n    if (notInitialRender.current) {\n      searchParams.set('query', debouncedQuery);\n      searchParams.delete('page');\n      setSearchParams(searchParams);\n    } else {\n      notInitialRender.current = true\n    }\n\n  }, [debouncedQuery]);\n\n  useEffect(() => {\n    const page = searchParams.get('page');\n    const query = searchParams.get('query');\n\n    dispatch(CharacterEvents.Search, { query: page || query || '', isUrl: page !== null });\n  }, [searchParams]);\n\n  const changeQuery = (event: React.ChangeEvent<HTMLInputElement>) => setQuery(event.target.value);\n\n  const people = results.results.map((character) => (\n    <CharacterCard key={character.url} character={character} />\n  ));\n\n\n  return (\n    <Layout>\n      <h1 className={css.header}>Find your favorite StarWars character</h1>\n\n      <TextField\n        value={query}\n        fullWidth\n        label=\"Character\"\n        variant=\"standard\"\n        onChange={changeQuery}\n      />\n\n      {request.inProgress && (\n        <LinearProgress\n          color=\"warning\"\n          style={{ position: \"fixed\", top: 0, left: 0, right: 0 }}\n        />\n      )}\n\n      {results.count === 0 && (\n        <Box textAlign=\"center\" m=\"50px auto\">\n          {request.inProgress ? 'Searching...' : 'Empty result'}\n        </Box>\n      )}\n\n      {results.count > 0 && <StyledResultBlock>{people}</StyledResultBlock>}\n\n      <Box display=\"flex\" width=\"100%\" justifyContent=\"center\" mt=\"15px\">\n        {results.previous && (\n          <Button\n            disabled={request.inProgress}\n            onClick={() => navigate( `/?page=${encodeURIComponent(results.previous || '')}&query=${query}`  )\n           }\n          >\n            Previous\n          </Button>\n        )}\n        {results.next && (\n          <Button\n            disabled={request.inProgress}\n            onClick={() => {\n              navigate(`/?page=${encodeURIComponent(results.next || '')}&query=${query}`);\n            }}\n          >\n            Next\n          </Button>\n        )}\n      </Box>\n    </Layout>\n  );\n}\n\nconst StyledResultBlock = styled(Box)`\n  text-align: center;\n  margin: 50px auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  grid-column-gap: 15px;\n  grid-row-gap: 15px;\n`;\n","import { useEffect, useState } from \"react\";\n\nexport function useDebounce<T>(value: T, delay: number) {\n  const [debounced, setDebounced] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebounced(value);\n    }, delay);\n\n    return () => clearTimeout(timer);\n  }, [value]);\n\n  return debounced;\n}\n","import React from \"react\";\nimport css from \"./Layout.module.css\";\n\nexport default function Layout({ children }: React.PropsWithChildren) {\n  return <main className={css.root}>{children}</main>;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Layout_root__VdXoF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Page_header__D8FCk\"};"],"sourceRoot":""}